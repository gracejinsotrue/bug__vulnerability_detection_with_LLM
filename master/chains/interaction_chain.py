from langchain.chains import LLMChain
from langchain.prompts import ChatPromptTemplate
from langchain_openai import ChatOpenAI
from langchain.schema import StrOutputParser

def create_interaction_chain():
    prompt_template = ChatPromptTemplate.from_template(
        "You are a debugging assistant. Your task is to help the user identify root causes of issues by retrieving source code and finding function callers."
        " When the user asks for code at a specific location or for callers of a function, use the appropriate tool.\n\n"
        "User Input: {user_input}\n"
        "{agent_scratchpad}"
    )

    llm = ChatOpenAI(model="gpt-3.5-turbo", temperature=0)
    output_parser = StrOutputParser()
    chain = LLMChain(
        llm=llm,
        prompt=prompt_template,
        output_parser=output_parser
    )
    return chain
