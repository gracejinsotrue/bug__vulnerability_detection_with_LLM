from langchain_core.runnables import RunnableLambda
from output_schemas import RetrieveSourceCodeOutput, FindCallersOutput

class RetrieveSourceCodeTool(RunnableLambda):
    def _run(self, file_path, line_number):
        # Implement the actual logic to retrieve the source code
        source_code = "Mock source code at {}:{}".format(file_path, line_number)
        return RetrieveSourceCodeOutput(file_path=file_path, line_number=line_number, source_code=source_code).dict()

class FindCallersTool(RunnableLambda):
    def _run(self, function_name):
        # Implement the actual logic to find the callers
        callers = [{"caller_function": "caller_func_1", "line_number": 42, "file_path": "example.py"}]
        return FindCallersOutput(callers=callers).dict()
