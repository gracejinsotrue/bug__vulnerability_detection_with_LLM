from pydantic import BaseModel, Field

class RetrieveSourceCodeOutput(BaseModel):
    file_path: str = Field(description="The path to the source file")
    line_number: int = Field(description="The line number in the source file")
    source_code: str = Field(description="The retrieved source code")

class FindCallersOutput(BaseModel):
    caller_function: str = Field(description="The name of the calling function")
    line_number: int = Field(description="The line number in the caller file")
    file_path: str = Field(description="The path to the caller file")

class DebuggingOutput(BaseModel):
    result: RetrieveSourceCodeOutput | FindCallersOutput = Field(description="The result of the debugging action")

    @classmethod
    def get_schema(cls):
        schema = cls.schema()
        schema["title"] = "DebuggingOutput"
        schema["description"] = "The output schema for debugging actions"
        return schema
