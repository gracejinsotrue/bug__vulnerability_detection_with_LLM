from langchain.tools import BaseTool
from output_schemas import RetrieveSourceCodeOutput

class RetrieveSourceCodeTool(BaseTool):
    name = "retrieve_source_code"
    description = "Retrieve source code from a file at a specific line number."

    def _run(self, file_path: str, line_number: int) -> dict:
        # Simulate retrieving the source code from a file
        source_code = "def example_function():\n    print('Hello, World!')\n"
        return RetrieveSourceCodeOutput(file_path=file_path, line_number=line_number, source_code=source_code).model_dump()

    async def _arun(self, file_path: str, line_number: int) -> dict:
        # Simulate retrieving the source code from a file
        source_code = "def example_function():\n    print('Hello, World!')\n"
        return RetrieveSourceCodeOutput(file_path=file_path, line_number=line_number, source_code=source_code).model_dump()
